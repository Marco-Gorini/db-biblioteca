CREATE TABLE Library.Book (
	IDBook INT NOT NULL,
	Price FLOAT NOT NULL,
	Author varchar(255) NOT NULL,
	Editor varchar(255) NOT NULL,
	Title varchar(255) NOT NULL,
	DateOfPublication DATE NOT NULL,
	ISBN CHAR(13) NULL,
	CONSTRAINT Book_pk PRIMARY KEY (IDBook)
)
ENGINE=InnoDB
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE Library.`User` (
	CFUser CHAR(16) NOT NULL,
	Name varchar(255) NULL,
	Surname varchar(255) NULL,
	BirthDate DATE NULL,
	CONSTRAINT User_pk PRIMARY KEY (CFUser)
)
ENGINE=InnoDB
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE Library.Loan (
	IDLoan INT NOT NULL,
	IDBook INT NOT NULL,
	CFUser CHAR(16) NOT NULL,
	StartDate DATE NOT NULL,
	EndDate DATE NULL,
	CONSTRAINT Loan_pk PRIMARY KEY (IDLoan),
	CONSTRAINT Loan_FK FOREIGN KEY (IDBook) REFERENCES Library.book(IDBook),
	CONSTRAINT Loan_FK_1 FOREIGN KEY (CFUser) REFERENCES Library.`user`(CFUser)
)
ENGINE=InnoDB
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_0900_ai_ci;